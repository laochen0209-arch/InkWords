# 全站语言国际化改造 - 基于母语和学习语言

## 核心原则
- **UI界面语言 = 母语**（用户熟悉的语言，用于导航、按钮、提示等）
- **主要内容 = 学习语言**（用户要学习的语言，用于卡片、文章、朗读等）
- **辅助解析 = 母语**（帮助用户理解学习内容）

## 修改文件清单（共21个文件）

### 一、核心页面文件（9个）

#### 1. app/home/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- UI文本字典（中文/英文）
- 修改所有硬编码文本：墨语、墨点、每日签到、每日修习、每日精选、生词本、修习、文库、我的

#### 2. app/study/page.tsx
- 读取 `nativeLang` 和 `targetLang`（而非 learningMode）
- UI文本字典基于 `nativeLang`
- 传递 `nativeLang` 和 `targetLang` 给子组件
- 输入占位符基于 `targetLang`

#### 3. app/library/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- 传递给 LibraryHeader 和 LibraryList

#### 4. app/vocabulary/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- UI文本字典：生词本、共收藏X词
- 朗读语言基于 `targetLang`

#### 5. app/profile/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- UI文本字典：退出登录

#### 6. app/settings/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- UI文本字典：设置、个性化你的墨语体验、账号设置、通知设置、学习设置、外观设置、关于墨语

#### 7. app/library/novels/[id]/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- 传递给 ReaderContent 组件
- UI文本：已加入书架、字体设置、播放

#### 8. app/library/news/[id]/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- 传递给 ReaderContent 组件
- UI文本：已加入书架、字体设置、播放

#### 9. app/reader/[id]/page.tsx
- 读取 `nativeLang` 和 `targetLang`
- 传递给 ReaderContent 组件

### 二、核心组件文件（12个）

#### 10. components/study/study-card.tsx
- 接收 `nativeLang` 和 `targetLang` props
- 主展示：`targetLang === "en" ? en : zh`
- 辅助解析：`nativeLang === "zh" ? meaning : en`
- 朗读：`targetLang === "en" ? 'en-US' : 'zh-CN'`
- 输入验证：`targetLang === "en" ? en : pinyin`
- 提示：`targetLang === "en" ? en_hint : py_hint`
- 占位符：`targetLang === "en" ? "Enter English word..." : "请输入拼音..."`

#### 11. components/study/sentence-card.tsx
- 接收 `nativeLang` 和 `targetLang` props
- 主展示：`targetLang === "en" ? en : zh`
- 辅助解析：`nativeLang === "zh" ? pinyin : en`
- 朗读：`targetLang === "en" ? 'en-US' : 'zh-CN'`
- 输入验证：`targetLang === "en" ? en : pinyin`
- 提示：`targetLang === "en" ? en_hint : py_hint`
- 占位符：`targetLang === "en" ? "请输入英文翻译..." : "Enter Pinyin..."`
- 按钮文本：显示提示/隐藏提示、播放发音

#### 12. components/reader/reader-content.tsx
- 接收 `nativeLang` 和 `targetLang` props
- 主展示：`targetLang === "en" ? english : chinese`
- 辅助解析：`nativeLang === "zh" ? chinese : english`
- 朗读：`targetLang === "en" ? 'en-US' : 'zh-CN'`

#### 13. components/reader/reader-header.tsx
- 接收 `nativeLang` 和 `targetLang` props
- 切换按钮文本：`nativeLang === "zh" ? "中/英/双语" : "CN/EN/Bilingual"`

#### 14. components/library/library-header.tsx
- 接收 `nativeLang` prop
- 标题：`nativeLang === "zh" ? "文库" : "Library"`

#### 15. components/library/library-list.tsx
- 接收 `nativeLang` 和 `targetLang` props
- 传递给子组件

#### 16. components/library/article-card.tsx
- 接收 `nativeLang` 和 `targetLang` props
- 根据语言显示不同的内容

#### 17. components/library/novel-card.tsx
- 接收 `nativeLang` prop
- UI文本：阅读、已加入书架

#### 18. components/library/news-card.tsx
- 接收 `nativeLang` prop
- UI文本：已加入书架

#### 19. components/library/bottom-nav-bar.tsx
- 接收 `nativeLang` prop
- 导航标签：`nativeLang === "zh" ? ["首页","修习","文库","我的"] : ["Home","Practice","Library","Profile"]`

#### 20. components/profile/profile-header.tsx
- 接收 `nativeLang` prop
- 统计标签：`nativeLang === "zh" ? ["连续签到","累计墨点","掌握词汇"] : ["Streak","Total Points","Mastered Words"]`

#### 21. components/profile/vip-banner.tsx
- 接收 `nativeLang` prop
- UI文本：开通墨语会员、畅享无限修习、立即开通

## 预期效果

### 场景1：母语=中文，学习语言=英文（国人学英语）
- **UI语言**：中文（"每日修习"、"进度"、"单词练习"、"文库"、"我的"等）
- **卡片内容**：显示英文单词/句子
- **辅助解析**：中文翻译/拼音
- **朗读**：英文语音
- **输入**：用户输入英文

### 场景2：母语=英文，学习语言=中文（老外学中文）
- **UI语言**：英文（"Daily Practice"、"Progress"、"Words"、"Library"、"Profile"等）
- **卡片内容**：显示中文单词/句子
- **辅助解析**：英文翻译/拼音
- **朗读**：中文语音
- **输入**：用户输入拼音

## 实施步骤
1. 创建全局语言上下文（可选，用于统一管理）
2. 逐个修改页面文件，添加语言读取和UI文本字典
3. 逐个修改组件文件，添加语言props和逻辑
4. 测试两种场景的切换效果