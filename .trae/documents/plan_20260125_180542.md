## 实现计划：按分类组织的每日自动更新词语和句子系统

### 1. 修改数据库模型

* 为 `Vocabulary` 模型添加 `category` 字段（日常生活、金融、旅游、商务、科技等）

* 为 `Sentence` 模型添加 `category` 字段

* 添加索引以提高查询性能

### 2. 创建分类选择器组件

* 创建 `CategorySelector` 组件，展示分类按钮

* 支持横向滚动，适配移动端

* 样式与现有 UI 保持一致（水墨风格）

### 3. 修改修习页面

* 在 [study/page.tsx](file:///g:/trea/jiaoben/inkwords/app/study/page.tsx) 添加分类选择器

* 添加 `selectedCategory` 状态

* 修改数据获取逻辑，根据分类筛选内容

* 在单词/句子切换按钮上方显示分类按钮

### 4. 创建 API 接口

* 创建 `/api/daily/update` 接口（N8N调用）

  * 接收分类、句子和词语数据

  * 清除旧数据或追加新数据

  * 使用 CRON\_SECRET 认证

* 修改 `/api/study/data` 接口

  * 支持按分类查询

  * 返回指定分类的句子和词语

### 5. 创建 N8N 工作流配置

* 提供完整的 N8N JSON 配置

* 包含以下节点：

  * Cron 触发器（每天凌晨执行）

  * HTTP 请求（调用外部 API 获取不同分类的内容）

  * 数据处理（格式化为数据库格式）

  * HTTP 请求（调用 `/api/daily/update` 接口）

  * 错误处理和日志

### 6. 提供初始数据脚本

* 创建 SQL 脚本，填充各分类的初始数据

* 每个分类至少包含 20 个词语和 10 个句子

* 包含：日常生活、金融、旅游、商务、科技、文化等分类

### 7. 更新国际化配置

* 在 TRANSLATIONS 中添加分类名称的翻译

