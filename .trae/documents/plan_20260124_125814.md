# N8N 新闻和文章爬取系统实现计划

## 目标

利用 Next.js (N8N) + Prisma + Vercel Cron Jobs 构建自动爬取和更新系统

## 实现步骤

### 1. 数据库设计

* 更新 `prisma/schema.prisma` 添加 News、CrawlerLog、CrawlerConfig 模型

* 运行数据库迁移

### 2. 爬取引擎开发

* 创建 `lib/crawler/news-crawler.ts` - 新闻爬取

* 创建 `lib/crawler/article-crawler.ts` - 文章爬取

* 使用 Axios + Cheerio 实现（Vercel 兼容）

### 3. API 接口开发

* 创建 `/api/news` - 新闻列表 API

* 创建 `/api/news/[id]` - 新闻详情 API

* 创建 `/api/articles` - 文章列表 API

* 创建 `/api/crawler/run` - 手动触发爬取

* 创建 `/api/crawler/logs` - 爬取日志 API

### 4. 定时任务实现

* 创建 `lib/crawler/scheduler.ts`

* 配置 Vercel Cron Jobs（每小时执行）

* 记录爬取日志

### 5. 前端页面开发

* 创建 `/news` 页面 - 新闻列表

* 创建 `/articles` 页面 - 文章列表

* 创建详情页面 - 沉浸式阅读

### 6. 测试和部署

* 本地测试爬取功能

* 部署到 Vercel

* 配置定时任务

## 技术栈

* Next.js 15 (App Router)

* Prisma ORM

* PostgreSQL (Supabase)

* Axios + Cheerio (爬取)

* Vercel Cron Jobs (定时任务)

## 预期结果

* 自动爬取新闻和文章

* 定时更新网站内容

* 提供丰富的学习资源

* 提升用户活跃度

