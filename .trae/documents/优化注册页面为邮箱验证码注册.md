## 优化计划

### 1. 数据库模型更新 (Prisma Schema)
- 添加 `VerificationCode` 模型存储邮箱验证码
- 包含字段：id, email, code, type, expiresAt, createdAt
- 设置过期时间索引自动清理

### 2. 后端 API 更新

**a. 更新发送验证码 API** (`/api/send-code`):
- 从手机号改为邮箱
- 生成6位随机验证码
- 存储到数据库并设置过期时间（5分钟）
- 测试模式直接返回验证码

**b. 创建注册 API** (`/api/register`):
- 接收邮箱、密码、验证码
- 验证验证码是否正确且未过期
- 创建新用户
- 删除已使用的验证码

**c. 更新认证 API** (`/api/auth`):
- 区分登录和注册逻辑
- 登录时验证邮箱和密码

### 3. 前端注册页面更新

**a. 表单结构修改**:
- 邮箱输入框（带格式验证）
- 验证码输入框 + 发送按钮（60秒倒计时）
- 密码输入框
- 确认密码输入框

**b. 交互逻辑**:
- 邮箱格式实时验证
- 发送验证码按钮倒计时
- 表单提交前验证所有字段
- 错误提示（验证码错误、邮箱已存在等）

**c. UI 优化**:
- 验证码输入框和发送按钮并排布局
- 倒计时状态显示
- 加载状态

### 4. i18n 翻译更新
- 添加邮箱相关翻译键
- 添加验证码相关翻译键
- 添加错误提示翻译

### 5. 测试验证
- 验证邮箱格式
- 验证验证码发送
- 验证注册流程
- 验证登录流程

---

请确认此计划后，我将开始实施具体的代码修改。